<!DOCTYPE html>
<html>
<head>
    <title>DICOM Viewer</title>
    <script src="https://unpkg.com/cornerstone-core/dist/cornerstone.min.js"></script>
    <script src="https://unpkg.com/cornerstone-wado-image-loader/dist/cornerstoneWADOImageLoader.min.js"></script>
    <style>
        .viewer {
            width: 512px;
            height: 512px;
            position: relative;
            color: white;
        }
    </style>
</head>
<body>
    <div id="dicomImage" class="viewer"></div>
    <script>
        // Initialize cornerstone
        cornerstone.enable(document.getElementById('dicomImage'));

        // Get the URL parameter
        const urlParams = new URLSearchParams(window.location.search);
        const imageUrl = urlParams.get('url');

        if (imageUrl) {
            // Load and display the DICOM image
            cornerstone.loadImage('wadouri:' + imageUrl).then(function(image) {
                cornerstone.displayImage(document.getElementById('dicomImage'), image);
            });
        }
    </script>
</body>
</html> 